<!doctype html>
<h1>항공편 계획</h1>
<div style={{display:'flex', gap:8}}>
<a className="link" href="index.html"><button className="btn">홈으로</button></a>
<a className="link" href="accommodation.html"><button className="btn">숙박</button></a>
</div>
</div>
<div className="card" style={{marginTop:12}}>
<p className="muted">항공권을 추가하고 드래그로 순서를 바꿀 수 있습니다.</p>
<form onSubmit={addOffer} className="grid" style={{marginTop:10}}>
<input className="input" placeholder="항공사" value={form.airline} onChange={e=>setForm(f=>({...f, airline:e.target.value}))} />
<input className="input" placeholder="출발지" value={form.from} onChange={e=>setForm(f=>({...f, from:e.target.value}))} />
<input className="input" placeholder="도착지" value={form.to} onChange={e=>setForm(f=>({...f, to:e.target.value}))} />
<input className="input" placeholder="출발시간" value={form.depart} onChange={e=>setForm(f=>({...f, depart:e.target.value}))} />
<input className="input" placeholder="도착시간" value={form.arrive} onChange={e=>setForm(f=>({...f, arrive:e.target.value}))} />
<input className="input" placeholder="가격 (숫자)" value={form.price} onChange={e=>setForm(f=>({...f, price:e.target.value}))} />
<input className="input" placeholder="소요시간(분)" value={form.duration} onChange={e=>setForm(f=>({...f, duration:e.target.value}))} />
<div style={{gridColumn:'1 / -1', display:'flex', gap:8}}>
<button className="btn" type="submit">항공편 추가</button>
<button type="button" className="btn" onClick={()=>sortBy('price')}>가격순</button>
<button type="button" className="btn" onClick={()=>sortBy('duration')}>시간순</button>
</div>
</form>


<div style={{marginTop:12}}>
{offers.map((of,i)=> (
<div key={of.id} draggable className="item" onDragStart={e=>onDragStart(e,i)} onDragOver={onDragOver} onDrop={e=>onDrop(e,i)}>
<div>
<div style={{fontWeight:600}}>{of.airline} — {of.from} → {of.to}</div>
<div className="muted tiny">{of.depart} → {of.arrive} · {of.duration}분 · {of.price}원</div>
</div>
<div style={{display:'flex', gap:8}}>
<button className="pill" onClick={()=>setSelected(of.id)}>선택</button>
<button className="pill" onClick={()=>setOffers(prev=>prev.filter(x=>x.id!==of.id))}>삭제</button>
</div>
</div>
))}
</div>


<div style={{marginTop:12}}>
<h3 className="tiny">선택된 항공권</h3>
<div className="card" style={{marginTop:8}}>
{selected ? (offers.find(o=>o.id===selected)?.airline + ' · ' + offers.find(o=>o.id===selected)?.price + '원') : <div className="muted tiny">아직 선택된 항공권이 없습니다.</div>}
</div>
</div>
</div>
</div>
);
}
function sampleFlights(){
return [
{id:'f1', airline:'Air Seoul', from:'ICN', to:'HND', depart:'08:30', arrive:'11:00', price:'120000', duration:'150'},
{id:'f2', airline:'Korean Air', from:'ICN', to:'NRT', depart:'09:00', arrive:'11:30', price:'150000', duration:'150'},
{id:'f3', airline:'Asiana', from:'ICN', to:'SIN', depart:'07:50', arrive:'13:40', price:'320000', duration:'350'},
];
}
ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(Flights));
</script>
</body>
</html>
